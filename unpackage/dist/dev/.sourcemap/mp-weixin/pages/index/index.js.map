{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?9cce","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?44db","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?a20f","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?c3aa","uni-app:///pages/index/index.vue","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?bf7c","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?9ebb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","client","Height","flow","Beep","Pump","UserName","PH","temp","TDS","password","Device_ID","net","ID","surplus","total","time","logs","topic","isRed","mounted","computed","methods","onPumpChange","console","that","mpPubTopic","title","icon","mask","onBeepChange","onwepay","disinfect","onICpay","onShow","duration","second","clearInterval","MQTT_OPTIONS","setTimeout","dataFromDev"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;AC+NnnB;AAGA;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA;AACA;;AAEA;;AAEA;AACA;AACA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;IACA;EACA;EACAC;IACA;EAAA,CACA;EACAC;IACA;IACA;IACA;IACA;IACA;EAAA,CACA;EACAC;IACAC;MACA;MACAC;MACA;MACAC;MACA;QACAA,oBACAC,YACA,+BACA;UACA;YACAF;YACA7B;cACAgC;cACAC;cACAC;YACA;UACA;QACA,EACA;MACA;QACAJ,oBACAC,YACA,+BACA;UACA;YACAF;YACA7B;cACAgC;cACAC;cACAC;YACA;UACA;QACA,EACA;MACA;IACA;IACAC;MACA;MACAN;MACA;MACAC;MACA;QACAA,oBACAC,YACA,+BACA;UACA;YACAF;YACA7B;cACAgC;cACAC;cACAC;YACA;UACA;QACA,EACA;MACA;QACAJ,oBACAC,YACA,+BACA;UACA;YACAF;YACA7B;cACAgC;cACAC;cACAC;YACA;UACA;QACA,EACA;MACA;IAEA;IACAE;MACA;MACAN,oBACAC,YACA,8BACA;QACA;UACAF;UACA7B;YACAgC;YACAC;YACAC;UACA;QACA;MACA,EACA;IACA;IACAG;MACArC;QACAgC;QACAC;QACAC;MACA;IACA;IACAI;MACA;MACAR,oBACAC,YACA,8BACA;QACA;UACAF;UACA7B;YACAgC;YACAC;YACAC;UACA;QACA;MACA,EACA;IAEA;EAEA;EACAK;IAAA;IACA;IACAvC;MACAgC;MACAC;MACAO;MACAN;IACA;IACA;IACA;MACAO;MACA;QACAzC;UACAgC;UACAC;UACAO;UACAN;QACA;MACA;QACAQ;QACA1C;UACAgC;UACAC;UACAC;QACA;MACA;IACA;IAEAS;IAAA;IACAb;IACAA;MACAD;MACAa;MACA1C;QACAgC;QACAC;QACAC;MACA;MACA;MACAU;QACAd;UACA;YACAD;YACA7B;cACAgC;cACAC;cACAC;YACA;UACA;QACA;MACA;IACA;IAEAJ;MACAD;MACA;MACA;MACAgB;MACAhB;MACAC;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;MACA;IACA;EACA;AAEA;AAAA,2B;;;;;;;;;;;;;ACtdA;AAAA;AAAA;AAAA;AAAkqC,CAAgB,woCAAG,EAAC,C;;;;;;;;;;;ACAtrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"bg\">\r\n\t\t<view class=\"wrapper\">\r\n\t\t\t<view class=\"header-wrapper\">\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/nwt.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">网络状态:\r\n\t\t\t\t\t\t\t<text class=\"text-net\">{{ net }}</text>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/ysj.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">当前设备号:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ Device_ID }}</text>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/yewei.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">水箱液位高度:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ Height}}</text>mm\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/PH.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">PH:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ PH}}</text>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/Temp.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">Temp:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ temp}}</text>°C\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/TDS.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">TDS:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ TDS}}</text>ppm\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/ll.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">\r\n\t\t\t\t\t\t\t出水流量:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ flow }}</text>\r\n\t\t\t\t\t\t\tL/min\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"body-wrapper\">\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view class=\"data-wrapper\">\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/pump.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">水泵L</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onPumpChange\" :checked=\"Pump\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-left: 10px;\"></view>\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/pump2.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">水泵R</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onPumpChange\" :checked=\"Pump\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t\t<view class=\"body-wrapper\">\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view class=\"data-wrapper\">\r\n\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/dcfa1.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">出水阀门L</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onPumpChange\" :checked=\"Pump\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-left: 10px;\"></view>\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/dcfa.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">出水阀门R</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onPumpChange\" :checked=\"Pump\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"body-wrapper\">\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view class=\"data-wrapper\">\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/beep.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">报警</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onBeepChange\" :checked=\"Beep\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-left: 10px;\"></view>\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/ziwaixian.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">紫外线消杀</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"disinfect\" :checked=\"Pump\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<button class=\"button\" @click=\"disinfect\">紫外线消杀</button>  \r\n\t\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"nop\"></view> -->\r\n\t\t</view>\r\n\t\t<view>\r\n\t\t\t<view class=\"wrapper-py\">\r\n\t\t\t\t<view class=\"header-wrapper-py\">\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/sf.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">用户ID:\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ ID }}</text>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/user.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">用户名:\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ UserName }}</text>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/ed.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">用户余额:\r\n\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ surplus }}</text>\r\n\t\t\t\t\t\t\t\t元\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/time1.png\" />\r\n\r\n\t\t\t\t\t\t\t<text class=\"text\">用时:\r\n\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ time }}</text>\r\n\t\t\t\t\t\t\t\ts\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/zs.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">出水总量:\r\n\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ total}}</text>\r\n\t\t\t\t\t\t\t\tL</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<button class=\"button\" @click=\"onwepay\">IC卡充值</button>\r\n\t\t\t\t\t<button class=\"button\" @click=\"onICpay\">余额支付</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t</view>\r\n\t<!-- \t<view class=\"content\">\r\n\t\t<button @click=\"connect\" type=\"primary\">connect</button>\r\n\t\t<view class=\"log\">\r\n\t\t\t<view v-for=\"(log,index) in logs\" class=\"\" :key=\"index\">\r\n\t\t\t\t{{log}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view> -->\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tv4\r\n\t} from 'uuid';\r\n\timport { //这里好像不支持{a,b},有点离谱\r\n\t\tMQTT_IP\r\n\t} from '@/utils/mqtt.js';\r\n\timport {\r\n\t\tMQTT_OPTIONS\r\n\t} from '@/utils/mqtt.js';\r\n\timport {\r\n\t\tconnect\r\n\t} from \"mqtt/dist/mqtt.js\";\r\n\r\n\tconst deviceSubTopic = \"smartwater/sub\"; //  设备订阅topic（小程序发布命令topic）\r\n\tconst devicePubTopic = \"smartwater/pub\"; //  设备发布topic（小程序订阅数据topic）\r\n\r\n\t/********************* 一般不用动这些 ********************/\r\n\r\n\tconst mpSubTopic = devicePubTopic;\r\n\tconst mpPubTopic = deviceSubTopic;\r\n\t// 1.导入组件\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tclient: {},\r\n\t\t\t\tHeight: \"0\", //液位\r\n\t\t\t\tflow: \"0\", //流量\r\n\t\t\t\tBeep: \"0\",\r\n\t\t\t\tPump: \"0\",\r\n\t\t\t\tUserName: \"xx\",\r\n\t\t\t\tPH: \"xx\", //PH\r\n\t\t\t\ttemp: \"xx\", //温度\r\n\t\t\t\tTDS: \"xx\", //浊度\r\n\t\t\t\tpassword: \"xx\",\r\n\t\t\t\tDevice_ID: \"0\",\r\n\t\t\t\tnet: \"网络通信良好\", //下位机通信测试\r\n\t\t\t\tID: \"xx\", //用户ID\r\n\t\t\t\tsurplus: \"0\", //余额\r\n\t\t\t\ttotal: \"0\", //出水总量\r\n\t\t\t\ttime: \"0\", //用时\r\n\t\t\t\tlogs: [],\r\n\t\t\t\ttopic: 'presence', //要订阅的主题\r\n\t\t\t\tisRed: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// this.connect() //连接\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// btnStyle() {\r\n\t\t\t// \treturn {\r\n\t\t\t// \t\tbackgroundColor: this.isRed ? 'red' : 'green'\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonPumpChange(event) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(event.mp.detail);\r\n\t\t\t\tlet sw = event.mp.detail.value;\r\n\t\t\t\tthat.Led = sw;\r\n\t\t\t\tif (sw) {\r\n\t\t\t\t\tthat.client.publish(\r\n\t\t\t\t\t\tmpPubTopic,\r\n\t\t\t\t\t\t'{\"target\":\"Pump\",\"value\":1}',\r\n\t\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"成功下发命令——打开水泵\");\r\n\t\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"指令下发成功\",\r\n\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.client.publish(\r\n\t\t\t\t\t\tmpPubTopic,\r\n\t\t\t\t\t\t'{\"target\":\"Pump\",\"value\":0}',\r\n\t\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"成功下发命令——关闭水泵\");\r\n\t\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"指令下发成功\",\r\n\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonBeepChange(event) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(event.mp.detail);\r\n\t\t\t\tlet sw = event.mp.detail.value;\r\n\t\t\t\tthat.Beep = sw;\r\n\t\t\t\tif (sw) {\r\n\t\t\t\t\tthat.client.publish(\r\n\t\t\t\t\t\tmpPubTopic,\r\n\t\t\t\t\t\t'{\"target\":\"BEEP\",\"value\":1}',\r\n\t\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"成功下发命令——打开报警器\");\r\n\t\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"指令下发成功\",\r\n\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.client.publish(\r\n\t\t\t\t\t\tmpPubTopic,\r\n\t\t\t\t\t\t'{\"target\":\"BEEP\",\"value\":0}',\r\n\t\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"成功下发命令——关闭报警器\");\r\n\t\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"指令下发成功\",\r\n\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tonwepay() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.client.publish(\r\n\t\t\t\t\tmpPubTopic,\r\n\t\t\t\t\t'{\"target\":\"pay\",\"value\":0}',\r\n\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\tconsole.log(\"成功下达命令——微信支付\");\r\n\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"功能未开通\",\r\n\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\tdisinfect() {\r\n\t\t\t\twx.showToast({\r\n\t\t\t\t\ttitle: \"指令下发成功\",\r\n\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonICpay() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.client.publish(\r\n\t\t\t\t\tmpPubTopic,\r\n\t\t\t\t\t'{\"target\":\"pay\",\"value\":0}',\r\n\t\t\t\t\tfunction(err) {\r\n\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\tconsole.log(\"成功下达命令——余额支付\");\r\n\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"功能未开通\",\r\n\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonShow() { //用于网络连接\r\n\t\t\tvar that = this;\r\n\t\t\twx.showToast({\r\n\t\t\t\ttitle: \"连接服务器....\",\r\n\t\t\t\ticon: \"loading\",\r\n\t\t\t\tduration: 10000,\r\n\t\t\t\tmask: true,\r\n\t\t\t});\r\n\t\t\tlet second = 10;\r\n\t\t\tvar toastTimer = setInterval(() => {\r\n\t\t\t\tsecond--;\r\n\t\t\t\tif (second) {\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ttitle: `连接服务器...${second}`,\r\n\t\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclearInterval(toastTimer);\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ttitle: \"连接失败\",\r\n\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\r\n\t\t\tMQTT_OPTIONS.clientId = new Date().getTime();;\r\n\t\t\tthat.client = connect('wxs://' + MQTT_IP, MQTT_OPTIONS);\r\n\t\t\tthat.client.on(\"connect\", function() {\r\n\t\t\t\tconsole.log(\"成功连接mqtt服务器！\");\r\n\t\t\t\tclearInterval(toastTimer);\r\n\t\t\t\twx.showToast({\r\n\t\t\t\t\ttitle: \"连接成功\",\r\n\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t});\r\n\t\t\t\t// 一秒后订阅主题\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthat.client.subscribe(mpSubTopic, function(err) {\r\n\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\tconsole.log(\"成功订阅设备上行数据Topic!\");\r\n\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"订阅成功\",\r\n\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t});\r\n\r\n\t\t\tthat.client.on(\"message\", function(topic, message) {\r\n\t\t\t\tconsole.log(topic);\r\n\t\t\t\t// message是16进制的Buffer字节流\r\n\t\t\t\tlet dataFromDev = {};\r\n\t\t\t\tdataFromDev = JSON.parse(message);\r\n\t\t\t\tconsole.log(dataFromDev);\r\n\t\t\t\tthat.Height = dataFromDev.Height;\r\n\t\t\t\tthat.flow = dataFromDev.flow;\r\n\t\t\t\tthat.Device_ID = dataFromDev.Devicd; //可以用来测试\r\n\t\t\t\tthat.ID = dataFromDev.ID;\r\n\t\t\t\tthat.UserName = dataFromDev.name;\r\n\t\t\t\tthat.surplus = dataFromDev.money;\r\n\t\t\t\tthat.password = dataFromDev.password;\r\n\t\t\t\t//that.time=dataFromDev.time;\r\n\t\t\t\t//that.total=(dataFromDev.flow)*time;//流量*时间\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import \"@/pages/index/index.scss\"; //引入方式\r\n\t@import \"./pay.scss\";\r\n\t@import \"./bg.scss\"\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1681398952104\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}