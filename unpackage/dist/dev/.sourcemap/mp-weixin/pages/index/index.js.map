{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?9cce","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?44db","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?a20f","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?c3aa","uni-app:///pages/index/index.vue","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?bf7c","webpack:///C:/Users/qin/Desktop/code/mqtt-demo/pages/index/index.vue?9ebb"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","takemo","data","client","Height","Height1","flow","Beep","Pump","Pump1","DZF","DZF1","ZW_Led","UserName","PH","temp","TDS","password","Device_ID","net","net_flag","ID","surplus","total","time","Bottle","logs","topic","isRed","showPop","shuju","showDialog","inputValue","messageType","error_info","mounted","computed","methods","dialogToggle","dialogConfirm","console","dialogClose","confirm","that","uni","title","icon","cancel","formSubmit","name","checkType","checkRule","errorMsg","formReset","confirmPop","content","showCancel","success","mask","cancelPop","onChange","k","onBotton","test","getwater","onShow","duration","second","clearInterval","MQTT_OPTIONS","setTimeout","dataFromDev"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACsC;;;AAG1F;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,gQAEN;AACP,KAAK;AACL;AACA,aAAa,gWAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAA+lB,CAAgB,ynBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC8RnnB;AAGA;AAMA;AAGA;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AAAA,eAEA;EACAC;IACAC;EACA;EACAC;IAEA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;IAEA;EACA;EACAC;IACA;EAAA,CACA;EACAC;IACA;IACA;IACA;IACA;IACA;EAAA,CACA;EAEAC;IACAC;MACA;MACA;IACA;IACAC;MACAC;MACA;MACA;IACA;IAEAC;MACAD;IACA;IACAE;MACAF;MACA;MACA;MACA;MACA;MACA;MACAG;QACA;UACAH;UACAA;QACA,QAEA;MACA;MACAI;QACAC;QACAC;MACA;IAEA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACAR;MACA;MACA,YAEA;QACAS;QACAC;QACAC;QACAC;MACA,EACA;MACA;;MAEA;MACA;MACA;MACA;QACA;QACA;QACAT;UACA;YACAH;YACAA;UACA,QAEA;QACA;QACAI;UACAC;UACAC;QACA;MAEA;QACAF;UACAC;UACAC;QACA;MACA;IACA;IACAO;MACAb;IACA;IACAc;MAAA;MACA;MACA;MACAd;MACA;MACA;QAEAI;UACAC;UACAU;UACAC;UAAA;UACAC;YACA;cACAjB;cACA;cACA;cACAG;gBACA;kBACAhD;oBACAkD;oBACAC;oBACAY;kBACA;kBACAlB;gBACA;kBACA7C;oBACAkD;oBACAC;oBACAY;kBACA;gBACA;cACA;YAEA;UACA;QACA;;QAEA;MAGA;QACAd;UACAC;UACAU;UACAC;UAAA;UACAC;YACA;cACAjB;YACA;UACA;QACA;MACA;IACA;IACAmB;MAAA;MACAnB;MACA;IACA;IACAoB;MACApB;MACA;MACAqB;MACA;MACA;MACA;MACAlB;QACA;UACA;YACAH;YACAA;UACA;YACAA;YACAA;UACA;UACA7C;YACAkD;YACAC;YACAY;UACA;QACA;UACA/D;YACAkD;YACAC;YACAY;UACA;QACA;MACA;IACA;IACAI;MACA;MACA;MACAtB;MACA;MACAG;QACA;UACAH;UACAA;UACA7C;YACAkD;YACAC;YACAY;UACA;QACA;MACA;IACA;IACAK;MACApE;QACAkD;QACAC;QACAY;MACA;IACA;IACAM;MACA;IAEA;EAEA;EACAC;IAAA;IACA;IACAtE;MACAkD;MACAC;MACAoB;MACAR;IACA;IACA;IACA;MACAS;MACA;QACAxE;UACAkD;UACAC;UACAoB;UACAR;QACA;MACA;QACAU;QACAzE;UACAkD;UACAC;UACAY;QACA;MACA;IACA;IAEAW;IAAA;IACA1B;IACAA;MACAH;MACA4B;MACAzE;QACAkD;QACAC;QACAY;MACA;MACA;MACAY;QACA3B;UACA;YACAH;YACA7C;cACAkD;cACAC;cACAY;YACA;UACA;QACA;MACA;IACA;IAEAf;MACAH;MACA;MACAA;MACA;MACA+B;MACA/B;MACAG;MACAA;MACA;QACAhD;UACAkD;UACAC;UACAY;QACA;QACAlB;MACA;MACA;QACAG;MACA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;QACAA;MACA;MACA;QACAhD;UACAkD;UACAC;UACAY;QACA;QACAlB;MACA;MACAG;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA;IAKA;EACA;AAEA;AAAA,2B;;;;;;;;;;;;;ACrqBA;AAAA;AAAA;AAAA;AAAkqC,CAAgB,woCAAG,EAAC,C;;;;;;;;;;;ACAtrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\ntry {\n  components = {\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup/uni-popup\" */ \"@/uni_modules/uni-popup/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupDialog: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog\" */ \"@/uni_modules/uni-popup/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.showDialog = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"bg\">\r\n\t\t<view class=\"wrapper\">\r\n\t\t\t<view class=\"header-wrapper\">\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/nwt.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">\r\n\t\t\t\t\t\t\t网络状态:\r\n\t\t\t\t\t\t\t<text :class=\"[net_flag === 0 ? 'text-net-error' : 'text-net']\">{{ net }}</text>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/ysj.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">当前设备号:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ Device_ID }}</text>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/yewei.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">水箱1液位高度:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ Height}}</text>cm\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/yewei.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">水箱2液位高度:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ Height1}}</text>cm\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/PH.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">PH:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ PH}}</text>\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/Temp.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">Temp:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ temp}}</text>°C\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/TDS.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">TDS:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ TDS}}</text>ppm\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/ll.png\" />\r\n\t\t\t\t\t\t<text class=\"text\">\r\n\t\t\t\t\t\t\t出水流量:\r\n\t\t\t\t\t\t\t<text class=\"text-data\">{{ flow }}</text>\r\n\t\t\t\t\t\t\tL/min\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"header-title\">\r\n\t\t\t\t\t<span></span>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"body-wrapper\">\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view class=\"data-wrapper\">\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/pump.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">水泵L</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onChange($event, 'Pump',Pump)\" :checked=\"Pump\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-left: 10px;\"></view>\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/pump2.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">水泵R</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onChange($event, 'Pump1',Pump1)\" :checked=\"Pump1\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t\t<view class=\"body-wrapper\">\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view class=\"data-wrapper\">\r\n\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/dcfa1.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">出水阀门L</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onChange($event, 'DZF',DZF)\" :checked=\"DZF\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-left: 10px;\"></view>\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/dcfa.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">出水阀门R</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onChange($event, 'DZF1',DZF1)\" :checked=\"DZF1\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"body-wrapper\">\r\n\t\t\t\t<view class=\"body\">\r\n\t\t\t\t\t<view class=\"data-wrapper\">\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/beep.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">报警</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onChange($event, 'Beep',Beep)\" :checked=\"Beep\" color=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"margin-left: 10px;\"></view>\r\n\t\t\t\t\t\t<view class=\"data\">\r\n\t\t\t\t\t\t\t<image class=\"data-logo\" src=\"/static/images/ziwaixian.png\" />\r\n\t\t\t\t\t\t\t<view class=\"data-text\">\r\n\t\t\t\t\t\t\t\t<view class=\"data-title\">紫外线消杀</view>\r\n\t\t\t\t\t\t\t\t<view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<switch @change=\"onChange($event, 'ZW_Led',ZW_Led)\" :checked=\"ZW_Led\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"#3d7ef9\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<!-- <view class=\"data-value\">\r\n\t\t\t\t\t\t\t\t\t<button class=\"button\" @click=\"disinfect\">紫外线消杀</button>  \r\n\t\t\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"nop\"></view> -->\r\n\t\t</view>\r\n\t\t<view>\r\n\t\t\t<view class=\"wrapper-py\">\r\n\t\t\t\t<view class=\"header-wrapper-py\">\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/sf.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">用户ID:\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ ID }}</text>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/user.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">用户名:\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ UserName }}</text>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/ed.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">用户余额:\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ surplus }}</text>\r\n\t\t\t\t\t\t\t\t元\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/time1.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">用时:\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ time }}</text>\r\n\t\t\t\t\t\t\t\ts\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<view class=\"container\">\r\n\t\t\t\t\t\t\t<image class=\"icon\" src=\"/static/images/zs.png\" />\r\n\t\t\t\t\t\t\t<text class=\"text\">出水总量:\r\n\t\t\t\t\t\t\t\t<text class=\"text-data\">{{ total}}</text>\r\n\t\t\t\t\t\t\t\tL</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"header-title-py\">\r\n\t\t\t\t\t\t<span></span>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<button class=\"button\" @click=\"test\">IC卡充值</button>\r\n\t\t\t\t\t<!-- <button class=\"button\" @click=\"onBotton($event,'pay','10')\">余额支付</button> -->\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<page-head title=\"form\"></page-head>\r\n\t\t\t\t\t\t<view class=\"uni-padding-wrap uni-common-mt\">\r\n\t\t\t\t\t\t\t<form @submit=\"formSubmit\" @reset=\"formReset\">\r\n\r\n\t\t\t\t\t\t\t\t<view class=\"uni-form-item uni-column\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"text-data-from\">请自选容量ml:</text>\r\n\t\t\t\t\t\t\t\t\t<radio-group name=\"cap\">\r\n\t\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t\t<radio value=200 /><text>200</text>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t\t<radio value=300 /><text>300</text>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t\t<radio value=400 /><text>400</text>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t\t\t<radio value=500 /><text>500</text>\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</radio-group>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"uni-btn-v\">\r\n\t\t\t\t\t\t\t\t\t<button form-type=\"submit\" class=\"button\">下单</button>\r\n\t\t\t\t\t\t\t\t\t<button type=\"default\" form-type=\"reset\" class=\"button\">取消</button>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<button @click=\"showDialog = true\" class=\"button\">按量取水</button>\r\n\t\t\t\t\t    <view class=\"dialog-mask\" v-if=\"showDialog\"></view>\r\n\t\t\t\t\t\t<view class=\"dialog\" v-if=\"showDialog\">\r\n\t\t\t\t\t\t\t<view class=\"dialog-content\">\r\n\t\t\t\t\t\t\t\t<view class=\"dialog-title\">选择容量</view>\r\n\t\t\t\t\t\t\t\t<input class=\"dialog-input\" v-model=\"inputValue\" />\r\n\t\t\t\t\t\t\t\t<view class=\"dialog-buttons\">\r\n\t\t\t\t\t\t\t\t<button class=\"dialog-button\" @click=\"confirm\">确认</button>\r\n\t\t\t\t\t\t\t\t\t<button class=\"dialog-button\" @click=\"cancel\">取消</button>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view>\r\n\t\t  <uni-popup ref=\"alertDialog\" type=\"dialog\">\r\n\t\t    <uni-popup-dialog\r\n\t\t      :type=\"messageType\"\r\n\t\t      cancelText=\"关闭\"\r\n\t\t      confirmText=\"收到\"\r\n\t\t      title=\"警告\"\r\n\t\t      :content=\"error_info\"\r\n\t\t      @confirm=\"dialogConfirm\"\r\n\t\t      @close=\"dialogClose\"\r\n\t\t    ></uni-popup-dialog>\r\n\t\t  </uni-popup>\r\n\t\t</view>\r\n\t</view>\r\n\t<!-- \t<view class=\"content\">\r\n\t\t<button @click=\"connect\" type=\"primary\">connect</button>\r\n\t\t<view class=\"log\">\r\n\t\t\t<view v-for=\"(log,index) in logs\" class=\"\" :key=\"index\">\r\n\t\t\t\t{{log}}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view> -->\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tv4\r\n\t} from 'uuid';\r\n\timport { //这里好像不支持{a,b},有点离谱\r\n\t\tMQTT_IP\r\n\t} from '@/utils/mqtt.js';\r\n\timport {\r\n\t\tMQTT_OPTIONS\r\n\t} from '@/utils/mqtt.js';\r\n\timport {\r\n\t\tconnect\r\n\t} from \"mqtt/dist/mqtt.js\";\r\n\timport {\r\n\t\tmapState,\r\n\t\tmapMutations\r\n\t} from 'vuex'\r\n\timport takemo from \"@/components/takemo.vue\";\r\n\timport graceChecker from \"./graceChecker.js\"\r\n\tconst deviceSubTopic = \"smartwater/sub\"; //  设备订阅topic（小程序发布命令topic）\r\n\tconst devicePubTopic = \"smartwater/pub\"; //  设备发布topic（小程序订阅数据topic）\r\n\r\n\t/********************* 一般不用动这些 ********************/\r\n\r\n\tconst mpSubTopic = devicePubTopic;\r\n\tconst mpPubTopic = deviceSubTopic;\r\n\t// 1.导入组件\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\ttakemo\r\n\t\t},\r\n\t\tdata() {\r\n\r\n\t\t\treturn {\r\n\t\t\t\tclient: {},\r\n\t\t\t\tHeight: \"0\", //液位0\r\n\t\t\t\tHeight1: \"0\", //液位1\r\n\t\t\t\tflow: \"0\", //流量,当flow为！=0时，当=0是flow1\r\n\t\t\t\tBeep: 0, //报警开关\r\n\t\t\t\tPump: 0, //水泵0\r\n\t\t\t\tPump1: 0, //水泵1\r\n\t\t\t\tDZF: 0, //电磁阀0\r\n\t\t\t\tDZF1: 0, //电磁阀1\r\n\t\t\t\tZW_Led: 0, //紫外线消毒灯\r\n\t\t\t\tUserName: \"xx\", //用户姓名\r\n\t\t\t\tPH: \"xx\", //PH\r\n\t\t\t\ttemp: \"xx\", //温度\r\n\t\t\t\tTDS: \"xx\", //浊度\r\n\t\t\t\tpassword: \"xx\", //密码\r\n\t\t\t\tDevice_ID: \"0\", //设备ID\r\n\t\t\t\tnet: \"离线\", //下位机是否连接\r\n\t\t\t\tnet_flag: 0, //离线标志位\r\n\t\t\t\tID: \"xx\", //用户ID\r\n\t\t\t\tsurplus: \"0\", //余额\r\n\t\t\t\ttotal: \"0\", //出水总量\r\n\t\t\t\ttime: \"0\", //用时\r\n\t\t\t\tBottle: '0', //接水瓶身\r\n\t\t\t\tlogs: [],\r\n\t\t\t\ttopic: 'presence', //要订阅的主题\r\n\t\t\t\tisRed: false,\r\n\t\t\t\tshowPop: false, //弹窗\r\n\t\t\t\tshuju: \"11\",\r\n\t\t\t\t showDialog: false,\r\n\t\t\t\tinputValue: \"200\",\r\n\t\t\t\tmessageType: \"alert\", // 弹窗类型\r\n\t\t\t    error_info: \"\" // 错误信息内容\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// this.connect() //连接\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// btnStyle() {\r\n\t\t\t// \treturn {\r\n\t\t\t// \t\tbackgroundColor: this.isRed ? 'red' : 'green'\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tdialogToggle(type) {\r\n\t\t\t\t\t\t\tthis.messageType = type\r\n\t\t\t\t\t\t\tthis.$refs.alertDialog.open()\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdialogConfirm() {\r\n\t\t\t\t\t\t\tconsole.log('点击确认')\r\n\t\t\t\t\t\t\tthis.messageText = `点击确认了 ${this.msgType} 窗口`\r\n\t\t\t\t\t\t\tthis.$refs.message.open()\r\n\t\t\t\t\t\t},\r\n\t\t\t\r\n\t\t\t\t\t\tdialogClose() {\r\n\t\t\t\t\t\t\tconsole.log('点击关闭')\r\n\t\t\t\t\t\t},\r\n\t\t\tconfirm() {\r\n\t\t\t      console.log(this.inputValue+\"\");\r\n\t\t\t      this.showDialog = false;\r\n\t\t\t\t  let type = \"cap\";\r\n\t\t\t\t  var that = this;\r\n\t\t\t\t  let value = parseInt(this.inputValue);\r\n\t\t\t\t  let message = '{\"target\":\"' + type + '\",\"value\":' + value + '}';\r\n\t\t\t\t  that.client.publish(mpPubTopic, message, function(err) {\r\n\t\t\t\t  \tif (!err) {\r\n\t\t\t\t  \t\tconsole.log(\"=====自选下单====\")\r\n\t\t\t\t  \t\tconsole.log(message)\r\n\t\t\t\t  \t} else {\r\n\t\t\t\t  \r\n\t\t\t\t  \t}\r\n\t\t\t\t  });\r\n\t\t\t\t  uni.showToast({\r\n\t\t\t\t  \ttitle: \"下单成功!\",\r\n\t\t\t\t  \ticon: \"none\"\r\n\t\t\t\t  });\r\n\t\t\t\t  \r\n\t\t\t    },\r\n\t\t\t    cancel() {\r\n\t\t\t      this.inputValue = \"\";\r\n\t\t\t      this.showDialog = false;\r\n\t\t\t    },\r\n\t\t\t//弹窗\r\n\t\t\tformSubmit: function(e) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log('form发生了submit事件，携带数据为：' + JSON.stringify(e.detail.value))\r\n\t\t\t\t//定义表单规则\r\n\t\t\t\tvar rule = [\r\n\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"cap\",\r\n\t\t\t\t\t\tcheckType: \"in\",\r\n\t\t\t\t\t\tcheckRule: \"100,200,300,400,500\",\r\n\t\t\t\t\t\terrorMsg: \"请选择容量\"\r\n\t\t\t\t\t}\r\n\t\t\t ];\r\n\t\t\t\t//进行表单检查\r\n\r\n\t\t\t\tvar formData = e.detail.value;\r\n\t\t\t\tvar checkRes = graceChecker.check(formData, rule);\r\n\t\t\t\tlet value = e.detail.value.cap\r\n\t\t\t\tif (checkRes) {\r\n\t\t\t\t\tlet type = \"cap\";\r\n\t\t\t\t\tlet message = '{\"target\":\"' + type + '\",\"value\":' + value + '}';\r\n\t\t\t\t\tthat.client.publish(mpPubTopic, message, function(err) {\r\n\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\tconsole.log(\"=====自选下单====\")\r\n\t\t\t\t\t\t\tconsole.log(message)\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"下单成功!\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: graceChecker.error,\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tformReset: function(e) {\r\n\t\t\t\tconsole.log('清空数据')\r\n\t\t\t},\r\n\t\t\tconfirmPop() { //确认\r\n\t\t\t\tthis.showPop = false\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tconsole.log(this.shuju)\r\n\t\t\t\tlet value = this.shuju;\r\n\t\t\t\tif (that.shuju) {\r\n\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '成功',\r\n\t\t\t\t\t\tshowCancel: false, //本来有两个按钮，这里我取消了“取消按钮”\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tconsole.log('用户下单成功');\r\n\t\t\t\t\t\t\t\tlet type = \"cap\";\r\n\t\t\t\t\t\t\t\tlet message = '{\"target\":\"' + type + '\",\"value\":' + value + '}';\r\n\t\t\t\t\t\t\t\tthat.client.publish(mpPubTopic, message, function(err) {\r\n\t\t\t\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"指令下发成功\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(message)\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"下发异常\",\r\n\t\t\t\t\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\t\t\t\t\tmask: false,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t//that.shuju = \"\"\r\n\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '不能为NULL',\r\n\t\t\t\t\t\tshowCancel: false, //本来有两个按钮，这里我取消了“取消按钮”\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcancelPop() { //取消\r\n\t\t\t\tconsole.log('点击了取消')\r\n\t\t\t\tthis.showPop = false\r\n\t\t\t},\r\n\t\t\tonChange(event, type, k) {\r\n\t\t\t\tconsole.log(event.mp.detail);\r\n\t\t\t\tlet sw = event.mp.detail.value;\r\n\t\t\t\tk = sw;\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tlet value = sw ? 1 : 0;\r\n\t\t\t\tlet message = '{\"target\":\"' + type + '\",\"value\":' + value + '}';\r\n\t\t\t\tthat.client.publish(mpPubTopic, message, function(err) {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tif (sw) {\r\n\t\t\t\t\t\t\tconsole.log(\"成功下发命令——打开报警器\");\r\n\t\t\t\t\t\t\tconsole.log(message)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.log(\"成功下发命令——关闭报警器\");\r\n\t\t\t\t\t\t\tconsole.log(message)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\ttitle: \"指令下发成功\",\r\n\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\ttitle: \"下发异常\",\r\n\t\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\t\tmask: false,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonBotton(event, type, value) {\r\n\t\t\t\tlet name = this.UserName;\r\n\t\t\t\tlet message = '{\"target\":\"' + type + '\",\"name\":\"' + name + '\",\"value\":' + value + '}';\r\n\t\t\t\tconsole.log(event.mp.detail);\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.client.publish(mpPubTopic, message, function(err) {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tconsole.log(\"成功下发命令:\" + type);\r\n\t\t\t\t\t\tconsole.log(message)\r\n\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\ttitle: \"指令下发成功\",\r\n\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\ttest() {\r\n\t\t\t\twx.showToast({\r\n\t\t\t\t\ttitle: \"开发中。。\",\r\n\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\tmask: false,\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetwater() {\r\n\t\t\t\tthis.showPop = true;\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonShow() { //用于网络连接\r\n\t\t\tvar that = this;\r\n\t\t\twx.showToast({\r\n\t\t\t\ttitle: \"连接服务器....\",\r\n\t\t\t\ticon: \"loading\",\r\n\t\t\t\tduration: 10000,\r\n\t\t\t\tmask: true,\r\n\t\t\t});\r\n\t\t\tlet second = 10;\r\n\t\t\tvar toastTimer = setInterval(() => {\r\n\t\t\t\tsecond--;\r\n\t\t\t\tif (second) {\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ttitle: `连接服务器...${second}`,\r\n\t\t\t\t\t\ticon: \"loading\",\r\n\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclearInterval(toastTimer);\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ttitle: \"连接失败\",\r\n\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\r\n\t\t\tMQTT_OPTIONS.clientId = new Date().getTime();;\r\n\t\t\tthat.client = connect('wxs://' + MQTT_IP, MQTT_OPTIONS);\r\n\t\t\tthat.client.on(\"connect\", function() {\r\n\t\t\t\tconsole.log(\"成功连接mqtt服务器！\");\r\n\t\t\t\tclearInterval(toastTimer);\r\n\t\t\t\twx.showToast({\r\n\t\t\t\t\ttitle: \"连接成功\",\r\n\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\tmask: true,\r\n\t\t\t\t});\r\n\t\t\t\t// 一秒后订阅主题\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthat.client.subscribe(mpSubTopic, function(err) {\r\n\t\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\t\tconsole.log(\"成功订阅设备上行数据Topic!\");\r\n\t\t\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"订阅成功\",\r\n\t\t\t\t\t\t\t\ticon: \"success\",\r\n\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t});\r\n\r\n\t\t\tthat.client.on(\"message\", function(topic, message) {\r\n\t\t\t\tconsole.log(topic);\r\n\t\t\t\t// message是16进制的Buffer字节流\r\n\t\t\t\tconsole.log(message);\r\n\t\t\t\tlet dataFromDev = {};\r\n\t\t\t\tdataFromDev = JSON.parse(message);\r\n\t\t\t\tconsole.log(dataFromDev);\r\n\t\t\t\tthat.Height = dataFromDev.Height;\r\n\t\t\t\tthat.Height1 = dataFromDev.Height1;\r\n\t\t\t\tif(dataFromDev.Height1<6){\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ttitle: \"液位过低\",\r\n\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\tmask: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(\"液位过低\");\r\n\t\t\t\t}\r\n\t\t\t\tif (dataFromDev.Flow == 0) {\r\n\t\t\t\t\tthat.flow = dataFromDev.Flow1;\r\n\t\t\t\t}\r\n\t\t\t\tthat.flow = dataFromDev.Flow;\r\n\t\t\t\tthat.Device_ID = dataFromDev.devicd_id; //可以用来测试\r\n\t\t\t\tthat.ID = dataFromDev.user_id;\r\n\t\t\t\tthat.UserName = dataFromDev.user_name;\r\n\t\t\t\tthat.surplus = dataFromDev.user_money;\r\n\t\t\t\tthat.password = dataFromDev.user_password;\r\n\t\t\t\tthat.Pump = dataFromDev.Pump;\r\n\t\t\t\tthat.Pump1 = dataFromDev.Pump1;\r\n\t\t\t\tthat.net_flag = dataFromDev.status;\r\n\t\t\t\tif (that.net_flag != 0) {\r\n\t\t\t\t\tthat.net = \"在线\"\r\n\t\t\t\t}\r\n\t\t\t\tif(dataFromDev.Height1<6){\r\n\t\t\t\t\twx.showToast({\r\n\t\t\t\t\t\ttitle: \"液位过低\",\r\n\t\t\t\t\t\ticon: \"error\",\r\n\t\t\t\t\t\tmask: false,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(\"液位过低\");\r\n\t\t\t\t}\r\n\t\t\t\tthat.PH = dataFromDev.ph;\r\n\t\t\t\tthat.TDS = dataFromDev.tds;\r\n\t\t\t\tthat.temp = dataFromDev.Temp;\r\n\t\t\t\tthat.DZF = dataFromDev.DZF;\r\n\t\t\t\tthat.DZF1 = dataFromDev.DZF1;\r\n\t\t\t\tthat.ZW_Led = dataFromDev.ZW_LED;\r\n\t\t\t\tthat.Bottle = dataFromDev.Bottle;\r\n\t\t\t\tthat.Beep = dataFromDev.BEEP;\r\n\t\t\t\tthat.time = dataFromDev.time;\r\n\t\t\t\t//that.total=(dataFromDev.flow)*time;//流量*时间\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t@import \"@/pages/index/index.scss\"; //引入方式\r\n\t@import \"./pay.scss\";\r\n\t@import \"./bg.scss\";\r\n\r\n\t.intext {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t.box {\r\n\t\theight: 27vh;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-content: center;\r\n\t\tpadding-top: 50upx;\r\n\t\tborder: 1px solid #888888;\r\n\t}\r\n\r\n\t.value {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tcolor: #C40000;\r\n\t\tfont-size: 30upx;\r\n\t\tfont-weight: 500;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.btns {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 50upx;\r\n\t}\r\n\r\n\t.btn {\r\n\t\twidth: 30vw;\r\n\t\tpadding: 5upx 20upx;\r\n\t\tcolor: white;\r\n\t\tfont-size: 30upx;\r\n\t\tbackground-color: #C40000;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 20upx;\r\n\t}\r\n\r\n\t.uni-form-item .title {\r\n\t\tpadding: 20rpx 0;\r\n\t}\r\n\t\r\n\t.dialog-mask {\r\n\t  position: fixed;\r\n\t  top: 0;\r\n\t  left: 0;\r\n\t  width: 100%;\r\n\t  height: 100%;\r\n\t  background-color: rgba(0, 0, 0, 0.5);\r\n\t}\r\n\t\r\n\t.dialog {\r\n\t  position: fixed;\r\n\t  top: 50%;\r\n\t  left: 50%;\r\n\t  transform: translate(-50%, -50%);\r\n\t  background-color: #fff;\r\n\t  padding: 20rpx;\r\n\t  border-radius: 8rpx;\r\n\t}\r\n\t\r\n\t.dialog-title {\r\n\t  font-size: 32rpx;\r\n\t  font-weight: bold;\r\n\t  margin-bottom: 20rpx;\r\n\t  text-align: center;\r\n\t}\r\n\t\r\n\t.dialog-input {\r\n\t  width: 100%;\r\n\t  height: 80rpx;\r\n\t  font-size: 28rpx;\r\n\t  padding: 10rpx;\r\n\t  border: 1rpx solid #ccc;\r\n\t  border-radius: 4rpx;\r\n\t  box-sizing: border-box;\r\n\t  margin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.dialog-buttons {\r\n\t  display: flex;\r\n\t  justify-content: center;\r\n\t}\r\n\t\r\n\t.dialog-button {\r\n\t  background-color: #007aff;\r\n\t  color: #fff;\r\n\t  font-size: 28rpx;\r\n\t  padding: 10rpx 20rpx;\r\n\t  border-radius: 4rpx;\r\n\t  margin: 0 10rpx;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683791385529\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}